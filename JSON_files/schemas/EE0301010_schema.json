{
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "$id": "https://datahub.rik.ee/schemas/json/EE0301010.json",
    "title": "Annual Accounts Balances - micro",
    "type": "object",
    "required":[
        "documentInfo",
        "dataset"],
    "properties": {
        "documentInfo": {
            "type:": "object",
            "required": [
                "uniqueID",
                "organizationIdentifier",
                "language",
                "creationDate",
                "creator",
                "periodCoveredStart",
                "periodCoveredEnd",
                "sourceApplication",
                "defaultCurrency"
            ],
            "properties": { 
                "uniqueID": {"type:": "string"},
                "organizationIdentifier": {"type:": "string"},
                "language": {"type:": "string","const": "iso639:et"},
                "creationDate": {"type:": "string", "format": "date", "pattern":"^([1-2]\\d{1,3})-([0][1-9]|[1][0-2])-([0][1-9]|[12][0-9]|[3][0-1])$"},
                "creator": {"type:": "string"},
                "periodCoveredStart": {"type:": "string", "format": "date", "pattern":"^([1-2]\\d{1,3})-([0][1-9]|[1][0-2])-([0][1-9]|[12][0-9]|[3][0-1])$"},
                "periodCoveredEnd": {"type:": "string", "format": "date", "pattern":"^([1-2]\\d{1,3})-([0][1-9]|[1][0-2])-([0][1-9]|[12][0-9]|[3][0-1])$"},
                "sourceApplication": {"type:": "string"},
                "defaultCurrency": {"type:": "string", "const": "iso4217:eur"}      
            }
        },  
        "dataset":{
            "type:": "object",
            "required":[ "entryNumber", "entryDetail"],
            "properties": {
                "entryNumber":{"type:": "string", "const": "EE0301010"},
                "entryDetail": {
                    "type:": "array",
                    "minItems": 1,
                    "items":{
                        "type": "object",
                        "required": [
                            "lineNumberCounter",
                            "accountMainID",
                            "debitCreditCode",
                            "amount"],     
                        "properties":{
                            "lineNumberCounter":{"type": "number"},
                            "accountMainID": {"type:": "string", "pattern":"^\\d{1,6}$"},
                            "debitCreditCode":{"type:": "string", "pattern": "^[D|C]$"},
                            "amount":{"type:": "number"}
                            }     
                        }
                    }
                }
            }       
    }
}
